{% extends './base.html' %}

{% load form_tags %}

{% block title %}Add New Book{% endblock %}

{% block content %}
    <h1 class="mb-4">Add New Book</h1>
    <form method="post" action="{% url 'books:add_book' %}">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_title">Title</label>
            {{ form.title|add_class:"form-control" }}
            {% if form.title.errors %}
                <div class="invalid-feedback">
                    {% for error in form.title.errors %}
                        <div>{{ error }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_author">Author</label>
            {{ form.author|add_class:"form-control" }}
            {% if form.author.errors %}
                <div class="invalid-feedback">
                    {% for error in form.author.errors %}
                        <div>{{ error }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_isbn">ISBN</label>
            {{ form.isbn|add_class:"form-control" }}
            {% if form.isbn.errors %}
                <div class="invalid-feedback">
                    {% for error in form.isbn.errors %}
                        <div>{{ error }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_publication_date">Publication Date</label>
            {% comment %} {{ form.publication_date|add_class:"form-control" }} {% endcomment %}
            <input type="date" name="publication_date" id="id_publication_date" class="form-control" required>
            {% if form.publication_date.errors %}
                <div class="invalid-feedback">
                    {% for error in form.publication_date.errors %}
                        <div>{{ error }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_pages">Number of Pages</label>
            {{ form.pages|add_class:"form-control" }}
            {% if form.pages.errors %}
                <div class="invalid-feedback">
                    {% for error in form.pages.errors %}
                        <div>{{ error }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <div class="form-group">
            <label for="id_cover_image">Cover Image URL</label>
            {{ form.cover_image|add_class:"form-control" }}
            {% if form.cover_image.errors %}
                <div class="invalid-feedback">
                    {% for error in form.cover_image.errors %}
                        <div>{{ error }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        </div>
        <button type="submit" class="btn btn-primary">Add Book</button>
    </form>
{% endblock %}
